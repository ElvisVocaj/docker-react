sudo: required #when we use docker we require sudo
services:
    - docker #travis installs a copy of docker inside our container

before_install: #executed before our test are ran or deploy
    - docker build -t elvo/docker-react -f Dockerfile.dev . #will give us back the image id

script: 
    - docker run elvo/docker-react npm run test -- --coverage #without -- --coverage test will wait for us to input something

#Deploy on AWS
#deploy:
#    provider: elasticbeanstalk
#    origin: "us-west-2" #found in the link generated by elasticbeanstalk (Environment AWS)
#    app: "docker" #application's name
#    env: "Docker-env" #app env's name
#    buket_name: "elasticbeanstalk-us-west-2-306476627547" #navigate to search for bucket and type s3 than find out the one needed and copy the name
#    buket_path: "docker" #same as app
#    on:
#       branch: master #deploy only when code is pushed to master branch
#
#navigate to aws -> services -> type "IAM" -> users (will be used by travis ci) -> add new user - (programmatic access) - attach existing policies (seach for beanstalk) -> select provides full access to aws... ->create user. This generates Access Key with access id, these should be used in : travis ci web app -> project dashboard -> more options -> environment variables and add 2 keys, 1 for access_key and one for secred key
#    access_key_id: $AWS_ACCESS_KEY #the same var name saved in travis ci
#    secred_access_key:
#       secure: "$AWS_SECRET_KEY"
